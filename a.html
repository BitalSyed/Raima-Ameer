<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabric.js Image Color Change</title>
    <!-- Load Fabric.js script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
    <style>
        .upper-canvas{
            display: none;
        }
    </style>
</head>

<body>
    <canvas id="canvas1" width="800" height="600"></canvas>

    <script>
      

function fielderDirectStitch(a) {
  // Ensure fabric.js is loaded before using it
  if (typeof fabric === "undefined") {
    console.error("Fabric.js failed to load");
    return;
  }
  const canvas = new fabric.Canvas("canvas1", {
    // selection: false, // Disable group selection (blue background)
  });
  // const hex = "#aab8c3"; // Example hex color
  // const hex = "#aa2d33"; // Example hex color
  // const hex = "#3a185a"; // Example hex color
  const hex = a // Example hex color
  const r = parseInt(hex.slice(1, 3), 16) / 255; // Normalize to 0-1
  const g = parseInt(hex.slice(3, 5), 16) / 255;
  const b = parseInt(hex.slice(5, 7), 16) / 255;
  
  // Load image
  fabric.Image.fromURL("/4-web-k-default.png", function (img) {
      console.log(img)
    img.filters.push(
      new fabric.Image.filters.ColorMatrix({
        matrix: [
          r, 0, 0, 0, 0, // Red
          0, g, 0, 0, 0,   // Green
          0, 0, b, 0, 0,   // Blue
          0, 0, 0, 1, 0    // Alpha
      ],
      })
    );
    img.applyFilters();
    // img.selectable = false; // Make the image undraggable
    // img.evented = false; // Disable all events on the image
    // img.lockScalingX = true; // Prevent horizontal scaling
    // img.lockScalingY = true; // Prevent vertical scaling
    // img.lockRotation = true; // Prevent rotation

    canvas.add(img);
  });
}
        function load(a) {
            // Ensure fabric.js is loaded before using it
            if (typeof fabric === 'undefined') {
                console.error('Fabric.js failed to load');
                return;
            }

            const canvas = new fabric.Canvas('canvas', {
                selection: false // Disable group selection (blue background)
            });
            // const hex = "#aab8c3"; // Example hex color
            // const hex = "#aa2d33"; // Example hex color
            // const hex = "#3a185a"; // Example hex color
            const hex = '#'+a; // Example hex color
            const r = parseInt(hex.slice(1, 3), 16) / 255; // Normalize to 0-1
            const g = parseInt(hex.slice(3, 5), 16) / 255;
            const b = parseInt(hex.slice(5, 7), 16) / 255;

            // Load image
            fabric.Image.fromURL('/4-web-k-default.png', function (img) {
                img.filters.push(new fabric.Image.filters.ColorMatrix({
                    matrix: [
                        r, 0, 0, 0, 0, // Red
                        0, g, 0, 0, 0,   // Green
                        0, 0, b, 0, 0,   // Blue
                        0, 0, 0, 1, 0    // Alpha
                    ],
                }));
                img.applyFilters();
                img.selectable = false; // Make the image undraggable
                img.evented = false; // Disable all events on the image
                img.lockScalingX = true; // Prevent horizontal scaling
                img.lockScalingY = true; // Prevent vertical scaling
                img.lockRotation = true; // Prevent rotation

                canvas.add(img);
            });

        };
        // load('555555')
    </script>
</body>

</html>